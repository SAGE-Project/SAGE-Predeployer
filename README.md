# SAGE Predeployer

## Setup

1. Install poetry
```shell
pip3 install poetry
```

2. Install the packages for the project
```shell
poetry install
```

3. Enter the shell
```shell
poetry shell
```

4. Install and setup [doctl](https://docs.digitalocean.com/reference/doctl/how-to/install/)


## Structure

- `input` contains the optimal solutions generated by sage for different use cases,
- `output` has 3 folders `sage`, `boreas` and `k8s`, that contain the optimal solutions translated to manifest files,
- `templates` Jinja2 templates for the manifest files,
- `src` source code for the predeployer.

## Run 

To run the program, simply go to the inputs folder 
and place the desired use case in the `schema.json` file and then execute:
```shell 
./run.sh
```

After some time, the cluster should be up and running, and you will have the manifest files
in a folder inside the output under each scheduler. Then simply run:
```shell
kubectl apply -f output/
watch kubectl get pods -o wide
```


